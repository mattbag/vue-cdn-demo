<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Vue Designer</title>
    <link rel="icon" href="http://cultofthepartyparrot.com/parrots/hd/parrotmustache.gif" type="image/gif">

    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    <!-- <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css"> -->
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">
    <style>
        body {
            min-height: 100vh;
            display: grid;
            grid-template-rows: auto 1fr auto;
        }

        /* [v-cloak] {
            opacity: 0;
        } */
    </style>
</head>

<body>
    <div class="bg-dark" style="padding: .25rem;">
        <div class="container">

            <header class="navbar">
                <section class="navbar-section">
                    <div class="columns">
                        <div class="column">
                            <a href="#" class="text-secondary">Docs</a>
                        </div>
                        <div class="column">
                            <a href="#" class="text-secondary">Examples</a>
                        </div>
                    </div>
                </section>
                <section class="navbar-center">
                    <a href="index.html" style="padding: .3rem .2rem 0 .2rem">
                        <img src="http://cultofthepartyparrot.com/parrots/hd/parrotmustache.gif" alt="logo" width="50">
                    </a>
                </section>
                <section class="navbar-section">
                    <div class="columns">
                        <div class="column">
                            <a href="#" class="text-secondary">Twitter</a>
                        </div>
                        <div class="column">
                            <a href="#" class="text-secondary">GitHub</a>
                        </div>
                    </div>
                </section>
            </header>

        </div>
    </div>

    <main>
        <div id="vdx" v-cloak style="padding: 1rem 0;">
            <div class="container">
                <div class="columns">
                    <div class="column col-xl-6">
                        <div v-show="true">
                            <!-- <pre class="code" data-lang="isActive"><code>{{isActive}}</code></pre> -->
                            <pre class="code" data-lang="images"><code>{{layers.images}}</code></pre>
                            <pre class="code" data-lang="text"><code>{{layers.text}}</code></pre>
                        </div>
                        <br>
                        <div class="columns">
                            <div class="column">
                                <div class="form-group">
                                    <label for="">Font</label>
                                    <select class="form-select">
                                        <option>Choose an option</option>
                                        <option>Slack</option>
                                        <option>Skype</option>
                                        <option>Hipchat</option>
                                    </select>
                                </div>
                            </div>
                            <div class="column">
                                <div class="form-group">
                                    <label for="">Colour</label>
                                    <input type="color" class="form-input">
                                </div>
                            </div>
                            <div class="column">
                                <div class="form-group">
                                    <label for="">Size</label>
                                    <input type="number" class="form-input">
                                </div>
                            </div>
                            <div class="column col-12">
                                <!-- form textarea control -->
                                <div class="form-group">
                                    <label class="form-label" for="input-example-3">Text</label>
                                    <textarea class="form-input" id="input-example-3" rows="4"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="column col-xl-6">

                        <canvas id="c" style="border: 1px solid #333;"></canvas>
                        <br>
                        <!-- <button class="btn btn-secondary" @click="addImg('./img/logo.png','filename')">add image</button> -->
                        <!-- <button class="btn btn-secondary" @click="addText('weeee')">add text</button> -->
                        <br>
                        <br>

                        <!-- <div class="chip c-hand" style="border: 1px dashed" :style="i == isActive ? 'border-color: #444':'border-color: transparent'"
                            @click.prevent="select(i)" v-for="i in layers.images">
                            <img :src="i._element.src" class="avatar avatar-smO bg-gray">
                            <span>
                                {{i._element.name}}
                            </span>
                            <a @click.prevent.stop="removeFromCanvas(i)" class="btn btn-clear" aria-label="Close" role="button"></a>
                        </div> -->
                        <!--  -->
                        <!-- <vdx-chip v-for="i in layers.images" v-bind:item="{name: i._element.name, src: i._element.src}"></vdx-chip> -->
                        <!--  -->
                        <br>
                        <br>
<!-- 
                        <div class="chip c-hand" style="border: 1px dashed" :style="t.isSelected ? 'border-color: #444':'border-color: transparent'"
                            @click.prevent="select(t)" v-for="t in layers.text">
                            <span>
                                {{t.text}}
                            </span>
                            <a @click.prevent.stop="removeFromCanvas(t)" class="btn btn-clear" aria-label="Close" role="button"></a>
                        </div> -->
                    </div>
                </div>
                <br>

            </div>
        </div>
    </main>

    <br>
    <footer class="bg-dark" style="padding:1rem">
        <a href="http://fabricjs.com/" target="_blank" class="text-secondary">vuestore.io</a>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>

    <script src="https://cdn.rawgit.com/konvajs/konva/2.1.3/konva.min.js"></script>

    <!-- <script type="text/x-template" id="vdx-chip-template">
        <div>My component template</div>

      </script> -->
    <!-- <script>

        new Vue({
            el: '#vdx',
            data: {
                canvas: null,
                stage: null,
                // images: [],
                layers: {
                    images: [],
                    text: [],
                },
                config: {
                    overlay: './img/logo.png',
                    bg: './img/over.jpg',
                },
            },
            mounted: function () {
                var _ = this;
                _.stage = new Konva.Stage({
                    container: 'c',
                    width: 600,
                    height: 600
                });

                var layer = new Konva.Layer();

                var imageObj = new Image();
                imageObj.onload = function () {

                    var yoda = new Konva.Image({
                        x: 10,
                        y: 10,
                        image: imageObj,
                        width: 106,
                        height: 118
                    });

                    // add the shape to the layer
                    layer.add(yoda);

                    // add the layer to the stage
                    _.stage.add(layer);
                };
                imageObj.src = './img/logo.png';
                _.layers.images.push(imageObj)
            }
        })
    </script> -->

    <script>


        new Vue({
            el: '#vdx',
            data: {
                canvas: null,
                // images: [],
                layers: {
                    images: [],
                    text: [],
                },
                config: {
                    overlay: './img/logo.png',
                    bg: './img/over.jpg',
                },
            },
            mounted: function () {
                var width = window.innerWidth;
                var height = window.innerHeight;

                var stage = new Konva.Stage({
                    container: 'c',
                    width: 300,
                    height: 300
                });

                var layer = new Konva.Layer();

                var imageObj = new Image();
                imageObj.onload = function () {

                    var yoda = new Konva.Image({
                        x: 10,
                        y: 10,
                        image: imageObj,
                        width: 106,
                        height: 118
                    });

                    // add the shape to the layer
                    layer.add(yoda);

                    // add the layer to the stage
                };
                imageObj.src = './img/logo.png';


                var triangle = new Konva.Shape({
                    sceneFunc: function (context) {
                        context.beginPath();
                        context.moveTo(20, 50);
                        context.lineTo(220, 80);
                        context.quadraticCurveTo(150, 100, 260, 170);
                        context.closePath();

                        // special Konva.js method
                        context.fillStrokeShape(this);
                    },
                    fill: '#00D2FF',
                    stroke: 'black',
                    strokeWidth: 4
                });

                layer.add(triangle);

                    stage.add(layer);
            }
        })
    </script>
</body>

</html>